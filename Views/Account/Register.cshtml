@model RegisterModel
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<div id="RegForm">
    @using (Ajax.BeginForm("Register", "Account", new AjaxOptions() { HttpMethod = "POST", UpdateTargetId = "RegForm", InsertionMode = InsertionMode.Replace, OnComplete = "setRedirect" }))
    {
        @Html.ValidationSummary(true, LabelDictionary.Translate("Регистрация не завершена. Исправьте ошибки и попробуйте снова."))
        <div class="registration">
            <div class="col">
                <div class="form form1">
                    <dl>
                        <dt>@Html.LangLabel("Имя"):</dt>
                        <dd>@Html.TextBoxFor(m => m.Name)
                            @Html.TwoStateValidationMessageFor(m => m.Name)</dd>
                    </dl>
                    <dl>
                        <dt>
                            @Html.LangLabel("Фамилия"):</dt>
                        <dd>@Html.TextBoxFor(m => m.Surname)
                            @Html.TwoStateValidationMessageFor(m => m.Surname)</dd>
                    </dl>
                    <dl>
                        <dt>
                            @Html.LangLabel("Отчество"):</dt>
                        <dd>@Html.TextBoxFor(m => m.Patrinomic)
                            @Html.TwoStateValidationMessageFor(m => m.Patrinomic)</dd>
                    </dl>
                    <dl>
                        <dt>
                            @Html.LangLabel("Телефон"):</dt>
                        <dd>@Html.TextBoxFor(m => m.MobilePhone)
                            @Html.TwoStateValidationMessageFor(m => m.MobilePhone)</dd>
                    </dl>
                    <dl>
                        <dt>@Html.LangLabel("Email"):</dt>
                        <dd>@Html.TextBoxFor(model => model.Email)
                            @Html.TwoStateValidationMessageFor(m => m.Email)</dd>
                    </dl>
                    <dl>
                        <dt>@Html.LangLabel("Пароль"):</dt>
                        <dd>@Html.PasswordFor(model => model.Password)
                            @Html.TwoStateValidationMessageFor(m => m.Password)</dd>
                    </dl>
                    <dl>
                        <dt>@Html.LangLabel("Отображаемое имя (ник)"):</dt>
                        <dd>@Html.TextBoxFor(model => model.Nick)
                            @Html.TwoStateValidationMessageFor(m => m.Nick)</dd>
                    </dl>

                    <dl>
                        <dt>
                        <dd>
                            <label>
                                @Html.CheckBoxFor(m => m.Agreed)
                                @Html.LangLabel("Я ПРИНИМАЮ УСЛОВИЯ")</label>
                    </dl>
                    <div class="fast-registration">
                        @Html.LangLabel("Быстрая регистрация"):<br/><br/>
                        <script src="//ulogin.ru/js/ulogin.js"></script>
                        <div id="uLogin" data-ulogin="display=panel;fields=first_name,email,nickname,photo,photo_big;providers=vkontakte,facebook,odnoklassniki,twitter,mailru,yandex,google;hidden=;redirect_uri=http%3A%2F%2F@(Request.Url.Host)%2FMaster%2Fru%2FAccount%2FSocials"></div>
@*
                        <a href="#" title="Зарегистрироваться через ВКонтакте"><i class="icon-vk"></i></a>
                        <a href="#" title="Зарегистрироваться через Facebook"><i class="icon-fb"></i></a>
                        <a href="#" title="Зарегистрироваться через Twitter"><i class="icon-tw"></i></a>
                        <a href="#" title="Зарегистрироваться через Одноклассники"><i class="icon-ok"></i></a>
*@
                    </div>
                    <div class="ac">
                        <input type="submit" class="btn-blue w350" value="@Html.LangLabel("Зарегистрироваться")" title="@Html.LangLabel("Зарегистрироваться")" />
                    </div>
                </div>
            </div>

            <div class="col rules">
                <h2>@Html.LangLabel("ПРАВИЛА")</h2>
                <div class="rules_content">
                    <p>Уже в 90-х он в полной мере осознал не только огромный потенциал рынка воды (тогда продажа чистой воды многим казалась капризом капиталистических стран), но и важность такой работы для населения родного города, ведь уже тогда износ систем городского водоснабжения приближался к критическому уровню.</p>
                    <p>С самого своего основания «Водная империя» была компанией-производителем, а не просто дистрибьютором продукции, лично отвечающей за качество каждой капли выпускаемой воды. Именно поэтому созданию производственной базы было уделено решающее внимание.</p>
                    <p>Общая глубина скважины составила 135 м, что обеспечило забор воды из третьего водоносного слоя. Натуральная фильтрация воды обеспечивается природными фильтрами – слоями …, в том числе ценнейшей голубой глиной. А производственная фильтрация имеет семь ступеней водоподготовки.</p>
                    <p>Второй важной задачей, стоящей перед компанией, было обеспечение доступа к природной, натуральной воде всех жителей города, независимо от уровня их благосостояния. Именно поэтому компания изначально развивала и продолжает развивать 3 направления продаж – доставка воды юридическим  и физическим лицам,  продажа воды в розлив через сеть собственных киосков.</p>
                    <p>Наконец, третьим ключевым решением в построении компании стала ориентация на принципиально высокий уровень сервиса – в том числе создание первого в Воронеже центра сервисного обслуживания кулеров, формирование высокопрофессионального</p>
                </div>
            </div>
        </div>
        
@* <div class="reg-box">
            <h1 class="header">@Html.LangLabel("Регистрация в сообществе")</h1>

            <p class="message-info">
                @LabelDictionary.Translate("Минимальная длина пароля должна быть {0} символов.").FormatWith(Membership.MinRequiredPasswordLength)
            </p>

            @Html.ValidationSummary(true, LabelDictionary.Translate("Регистрация не завершена. Исправьте ошибки и попробуйте снова."))
            <div class="editor-label">
                @Html.LangLabel("Email")
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(model => model.Email)
                @Html.ValidationMessageFor(model => model.Email, LabelDictionary.Translate("Необходимо указать Email адрес"))
            </div>

            <div class="editor-label">
                @Html.LangLabel("Пароль")
            </div>
            <div class="editor-field">
                @Html.PasswordFor(m => m.Password)
                @Html.ValidationMessageFor(m => m.Password, LabelDictionary.Translate("Поле обязательно для заполнения"))

            </div>
            <div class="editor-label">
                @Html.LangLabel("Подтвердите пароль")
            </div>
            <div class="editor-field">
                @Html.PasswordFor(m => m.ConfirmPassword)
                @Html.ValidationMessageFor(m => m.ConfirmPassword, LabelDictionary.Translate("Поле обязательно для заполнения и должно совпадать с полем \"Пароль\""))
            </div>

            <div class="editor-label">
                @Html.LangLabel("Отображаемое имя (ник)")
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.Nick)
                @Html.ValidationMessageFor(m => m.Nick)
            </div>


            <div class="editor-label">
                @Html.LangLabel("Фамилия")
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.Surname)
                @Html.ValidationMessageFor(m => m.Surname)
            </div>


            <div class="editor-label">
                @Html.LangLabel("Имя")
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.Name)
                @Html.ValidationMessageFor(m => m.Name)
            </div>


            <div class="editor-label">
                @Html.LangLabel("Отчество")
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.Patrinomic)
                @Html.ValidationMessageFor(m => m.Patrinomic)
            </div>

            <div class="editor-label">
                @Html.LangLabel("Телефон")
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.MobilePhone)
                @Html.ValidationMessageFor(m => m.MobilePhone)
            </div>


            <input type="submit" value="@Html.LangLabel("Зарегистрироваться")" title="@Html.LangLabel("Зарегистрироваться")" />
        </div>*@
    }
    <input type="hidden" value="@Model.RedirectURL" id="RedirectURL"/>
</div>
<script type="text/javascript">
    $().ready(function () {
        $('.registration').keyup(function () {
            check();
        });
        check();
    });

    function check() {
        $('form').validate().form();
        $('.registration input[type="text"], .registration input[type="password"]').each(function () {
            $(this).parent().find('i').remove();
            if ($(this).hasClass('input-validation-error')) {
                $(this).parent().append('<i class=\"icon-bad\"></i>');
            } else {
                $(this).parent().append('<i class=\"icon-good\"></i>');
            }
        });
    }
</script>
